<div *ngIf="book" class="container-fluid  row book-details">
  <div class="col-md-4 d-flex justify-content-center">
    <img src="{{book.cover}}" alt="book-cover" />
  </div>
  <div class="col-md-7  book-info">
    <h3>{{book.title}}</h3>
    <span class="fa fa-star {{stars[0]}}" (click)="rateBook(1)" (mouseenter)="calcRating(1)" (mouseleave)="resetRating()"></span>
    <span class="fa fa-star {{stars[1]}}" (click)="rateBook(2)" (mouseenter)="calcRating(2)" (mouseleave)="resetRating()"></span>
    <span class="fa fa-star {{stars[2]}}" (click)="rateBook(3)" (mouseenter)="calcRating(3)" (mouseleave)="resetRating()"></span>
    <span class="fa fa-star {{stars[3]}}" (click)="rateBook(4)" (mouseenter)="calcRating(4)" (mouseleave)="resetRating()"></span>
    <span class="fa fa-star {{stars[4]}}" (click)="rateBook(5)" (mouseenter)="calcRating(5)" (mouseleave)="resetRating()"></span>
    <p>based on {{book.ratedCount}} ratings</p>
    <p>{{book.comments.length}} comments</p>
    <p>Author: {{book.author}}</p>
    <p>Genre: {{book.genre}}</p>
    <p>Relsease Year: {{book.year}}</p>
    <p>ISBN: {{book.isbn}}</p>
    <p>Pages: {{book.pagesCount}}</p>
    <p class="book-description" [ngClass]="{'limitTextHeight': isReadMore}">Description: {{book.description}}</p>
    <button type="button" class="btn btn-light btn-sm" (click)="showText()">
      <span *ngIf="isReadMore">...</span>
      {{ isReadMore ? 'Read More': 'Read Less' }}
    </button>
    <h2>Price:&#8377;{{book.price}}</h2>
    <ng-template [ngIf]="isLogged">
      <button class="btn btn-success" (click)="buyBook()" [disabled]="isBought">Buy Book</button>
      <button class="btn btn-secondary" (click)="addToFavorites()" [disabled]="isAdded">Add to favourites</button>
    </ng-template>
    <ng-template [ngIf]="isAdmin">
      <div id="admin-panel">
        <a class="btn btn-warning" routerLink="/book/edit/{{book._id}}">Edit Book</a>
        <a class="btn btn-danger" routerLink="/book/delete/{{book._id}}">Delete Book</a>
      </div>
    </ng-template>
    <ng-template [ngIf]="!isLogged">
      <button class="btn btn-secondary" (click)="login()">Login to Buy, Rate and Comment</button>
    </ng-template>
  </div>
</div>
<ng-template [ngIf]="book">
  <app-comment [bookId]="bookId" [isLogged]="isLogged" [isAdmin]="isAdmin" [userId]="userId"></app-comment>
</ng-template>
<div [hidden]="book" class="no-results">
  <img src="https://i.imgur.com/KRVihMq.png" alt="no-item-found">
</div>

<!-- <div *ngIf="book" class="container-fluid row book-details">
  <div class="col-md-4 d-flex justify-content-center" >
    <img src="{{ book.cover }}" alt="book-cover" />
  </div>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  <div class="col-md-7  book-info">
    <h3>{{ book.title }}</h3>
    <span
      class="fa fa-star {{ stars[0] }}"
      (click)="rateBook(1)"
      (mouseenter)="calcRating(1)"
      (mouseleave)="resetRating()"
    ></span>
    <span
      class="fa fa-star {{ stars[1] }}"
      (click)="rateBook(2)"
      (mouseenter)="calcRating(2)"
      (mouseleave)="resetRating()"
    ></span>
    <span
      class="fa fa-star {{ stars[2] }}"
      (click)="rateBook(3)"
      (mouseenter)="calcRating(3)"
      (mouseleave)="resetRating()"
    ></span>
    <span
      class="fa fa-star {{ stars[3] }}"
      (click)="rateBook(4)"
      (mouseenter)="calcRating(4)"
      (mouseleave)="resetRating()"
    ></span>
    <span
      class="fa fa-star {{ stars[4] }}"
      (click)="rateBook(5)"
      (mouseenter)="calcRating(5)"
      (mouseleave)="resetRating()"
    ></span>
    <p>based on {{ book.ratedCount }} ratings</p>
    <p>{{ book.comments.length }} comments</p>
    <p>Author: {{ book.author }}</p>
    <p>Genre: {{ book.genre }}</p>
    <p>Relsease Year: {{ book.year }}</p>
    <p>ISBN: {{ book.isbn }}</p>
    <p>Pages: {{ book.pagesCount }}</p>
    
    <p class="book-description" [ngClass]="{'limitTextHeight': isReadMore}">Description: {{ book.description }}</p>
    
    <button type="button" class="btn btn-light btn-sm" (click)="showText()">
      <span *ngIf="isReadMore">...</span>
      {{ isReadMore ? 'Read More': 'Read Less' }}
    </button>
    <h2>Price: {{ book.price }} &#x24;</h2>
    <ng-template [ngIf]="isLogged">
      <button class="btn btn-success col-md-4" (click)="buyBook()" [disabled]="isBought">
        Buy Book
      </button>
      <button
        class="btn btn-secondary col-md-4"
        (click)="addToFavorites()"
        [disabled]="isAdded"
      >
        Add to favourites
      </button>
    </ng-template>
    <ng-template [ngIf]="isAdmin">
      <div id="admin-panel">
        <a class="btn btn-warning col-md-4 addmarin"  routerLink="/book/edit/{{ book._id }}"
          >Edit Book</a
        >
        <a class="btn btn-danger col-md-4" routerLink="/book/delete/{{ book._id }}"
          >Delete Book</a
        >
      </div>
    </ng-template>
    <ng-template [ngIf]="!isLogged">
      <button class="btn btn-secondary" (click)="login()">
        Login to Buy, Rate and Comment
      </button>
    </ng-template>
  </div>
</div>
<ng-template [ngIf]="book">
  <app-comment
    [bookId]="bookId"
    [isLogged]="isLogged"
    [isAdmin]="isAdmin"
    [userId]="userId"
  ></app-comment>
</ng-template>
<div [hidden]="book" class="no-results">
  <img src="https://i.imgur.com/KRVihMq.png" alt="no-item-found" />
</div> -->

<!-- <div class="row book-details">
    <div class="col-1">
      <img src="https://m.media-amazon.com/images/I/41gr3r3FSWL.jpg" alt="book-cover" />
    </div>
    <div class="col-7 book-info">
      <h3>Book Cover</h3>
      <span class="fa fa-star " ></span>
      <span class="fa fa-star " ></span>
      <span class="fa fa-star " ></span>
      <span class="fa fa-star " ></span>
      <span class="fa fa-star " ></span>
      <p>based on 3 ratings</p>
      <p>2 comments</p>
      <p>Author: Anita Nipane</p>
      <p>Genre: Non-Ficton</p>
      <p>Relsease Year: 20222</p>
      <p>ISBN: 1256372819</p>
      <p>Pages: 200</p>
      <p class="book-description">Description: A good learninng Book</p>
      <h2>Price: 10.18 &#x24;</h2>
      <button class="btn btn-success"  >Buy Book</button>
      <button class="btn btn-secondary" >Add to favourites</button>
      <ng-template [ngIf]="isLogged">
        <button class="btn btn-success" (click)="buyBook()" [disabled]="isBought">Buy Book</button>
        <button class="btn btn-secondary" (click)="addToFavorites()" [disabled]="isAdded">Add to favourites</button>
      </ng-template>
      <div id="admin-panel">
        <a class="btn btn-warning" >Edit Book</a>
        <a class="btn btn-danger" >Delete Book</a>
      </div>
      <ng-template [ngIf]="isAdmin">
        <div id="admin-panel">
          <a class="btn btn-warning" routerLink="/book/edit/{{book._id}}">Edit Book</a>
          <a class="btn btn-danger" routerLink="/book/delete/{{book._id}}">Delete Book</a>
        </div>
      </ng-template>
      <button class="btn btn-secondary" >Login to Buy, Rate and Comment</button>
      <ng-template [ngIf]="!isLogged">
       
      </ng-template>
    </div>
  </div>
  <ng-template [ngIf]="book">
    <app-comment [bookId]="bookId" [isLogged]="isLogged" [isAdmin]="isAdmin" [userId]="userId"></app-comment>
  </ng-template> -->
<!-- <div [hidden]="book" class="no-results">
    <img src="https://i.imgur.com/KRVihMq.png" alt="no-item-found">
  </div> -->
